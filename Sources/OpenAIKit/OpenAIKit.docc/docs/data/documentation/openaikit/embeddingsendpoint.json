{"abstract":[{"type":"text","text":"Provides access to OpenAI’s embeddings API for converting text into numerical vectors."}],"hierarchy":{"paths":[["doc:\/\/OpenAIKit\/documentation\/OpenAIKit"]]},"seeAlsoSections":[{"anchor":"Embeddings","title":"Embeddings","identifiers":["doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingRequest","doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingResponse"],"generated":true}],"schemaVersion":{"patch":0,"minor":3,"major":0},"identifier":{"url":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingsEndpoint","interfaceLanguage":"swift"},"kind":"symbol","primaryContentSections":[{"declarations":[{"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EmbeddingsEndpoint"}],"platforms":["Linux"],"languages":["swift"]}],"kind":"declarations"},{"content":[{"level":2,"anchor":"Overview","text":"Overview","type":"heading"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"EmbeddingsEndpoint","type":"codeVoice"},{"text":" class enables you to convert text into high-dimensional","type":"text"},{"text":" ","type":"text"},{"text":"vectors (embeddings) that capture semantic meaning. These embeddings can be used","type":"text"},{"text":" ","type":"text"},{"text":"for various natural language processing tasks such as:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Semantic Search","type":"text"}]},{"type":"text","text":": Find documents similar to a query"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Clustering","type":"text"}]},{"text":": Group similar texts together","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Recommendations","type":"text"}],"type":"strong"},{"type":"text","text":": Suggest related content"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Anomaly Detection","type":"text"}]},{"type":"text","text":": Identify outliers in text data"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Classification","type":"text"}]},{"type":"text","text":": Train machine learning models on text features"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"anchor":"Understanding-Embeddings","text":"Understanding Embeddings","type":"heading"},{"inlineContent":[{"type":"text","text":"Embeddings are dense numerical representations of text where semantically similar"},{"type":"text","text":" "},{"type":"text","text":"texts have vectors that are close together in the high-dimensional space. The"},{"type":"text","text":" "},{"type":"text","text":"distance between vectors (typically measured using cosine similarity) indicates"},{"type":"text","text":" "},{"type":"text","text":"how related the texts are in meaning."}],"type":"paragraph"},{"level":2,"anchor":"Available-Models","text":"Available Models","type":"heading"},{"level":3,"anchor":"text-embedding-3-small","text":"text-embedding-3-small","type":"heading"},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Dimensions"}],"type":"strong"},{"text":": 1536 (can be reduced)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Use Case"}],"type":"strong"},{"type":"text","text":": General-purpose, cost-effective"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Performance"}]},{"type":"text","text":": Good balance of quality and speed"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"anchor":"text-embedding-3-large","text":"text-embedding-3-large","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Dimensions"}],"type":"strong"},{"type":"text","text":": 3072 (can be reduced)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Use Case"}],"type":"strong"},{"type":"text","text":": Higher accuracy requirements"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Performance","type":"text"}],"type":"strong"},{"text":": Best quality, higher cost","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"anchor":"text-embedding-ada-002-Legacy","text":"text-embedding-ada-002 (Legacy)","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Dimensions"}]},{"type":"text","text":": 1536 (fixed)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Use Case"}],"type":"strong"},{"text":": Backward compatibility only","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Note"}],"type":"strong"},{"type":"text","text":": Not recommended for new applications"}]}]}],"type":"unorderedList"},{"level":2,"anchor":"Basic-Usage","text":"Basic Usage","type":"heading"},{"syntax":"swift","code":["let client = OpenAIKit(apiKey: \"your-api-key\")","","\/\/ Single text embedding","let request = EmbeddingRequest(","    input: \"The history of artificial intelligence\",","    model: \"text-embedding-3-small\"",")","","let response = try await client.embeddings.create(request)","let embedding = response.data.first?.embedding"],"type":"codeListing"},{"level":2,"anchor":"Advanced-Examples","text":"Advanced Examples","type":"heading"},{"level":3,"anchor":"Semantic-Search-Implementation","text":"Semantic Search Implementation","type":"heading"},{"syntax":"swift","code":["\/\/ 1. Create embeddings for your documents","let documents = [","    \"Swift is a powerful programming language\",","    \"Python is popular for machine learning\",","    \"JavaScript runs in web browsers\"","]","","let docsRequest = EmbeddingRequest(","    input: documents,","    model: \"text-embedding-3-small\"",")","let docsResponse = try await client.embeddings.create(docsRequest)","","\/\/ 2. Create embedding for search query","let queryRequest = EmbeddingRequest(","    input: \"What language should I use for iOS development?\",","    model: \"text-embedding-3-small\"",")","let queryResponse = try await client.embeddings.create(queryRequest)","","\/\/ 3. Calculate similarities","if let queryVector = queryResponse.data.first?.embedding.floatValues {","    let similarities = docsResponse.data.map { doc in","        guard let docVector = doc.embedding.floatValues else { return 0.0 }","        return cosineSimilarity(queryVector, docVector)","    }","    ","    \/\/ Find most similar document","    if let maxIndex = similarities.enumerated().max(by: { $0.element < $1.element })?.offset {","        print(\"Most relevant: \\(documents[maxIndex])\")","    }","}"],"type":"codeListing"},{"level":3,"anchor":"Dimension-Reduction-for-Efficiency","text":"Dimension Reduction for Efficiency","type":"heading"},{"syntax":"swift","code":["let request = EmbeddingRequest(","    input: \"Large corpus of text to embed\",","    model: \"text-embedding-3-small\",","    dimensions: 512  \/\/ Reduce from 1536 to 512",")","","\/\/ Smaller embeddings = faster similarity calculations and less storage","let response = try await client.embeddings.create(request)"],"type":"codeListing"},{"level":3,"anchor":"Batch-Processing-with-Base64-Encoding","text":"Batch Processing with Base64 Encoding","type":"heading"},{"syntax":"swift","code":["let batchRequest = EmbeddingRequest(","    input: Array(repeating: \"Sample text\", count: 100),","    model: \"text-embedding-3-small\",","    encodingFormat: .base64  \/\/ More efficient for large batches",")","","let response = try await client.embeddings.create(batchRequest)","\/\/ Store base64 strings directly in database"],"type":"codeListing"},{"level":2,"anchor":"Best-Practices","text":"Best Practices","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Batch Requests","type":"text"}],"type":"strong"},{"text":": Process multiple texts in a single request (up to 2048 inputs)","type":"text"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Cache Embeddings"}],"type":"strong"},{"text":": Store computed embeddings to avoid redundant API calls","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Normalize Vectors"}],"type":"strong"},{"type":"text","text":": For cosine similarity, pre-normalize vectors for faster calculations"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Choose Right Model"}]},{"type":"text","text":": Use "},{"type":"codeVoice","code":"text-embedding-3-small"},{"type":"text","text":" for most use cases"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Consider Dimensions"}]},{"type":"text","text":": Reduce dimensions when possible to save costs and improve speed"}]}]}],"type":"orderedList"},{"level":2,"anchor":"Error-Handling","text":"Error Handling","type":"heading"},{"syntax":"swift","code":["do {","    let response = try await client.embeddings.create(request)","    \/\/ Process embeddings","} catch {","    if let apiError = error as? OpenAIError {","        switch apiError {","        case .rateLimitExceeded:","            \/\/ Implement backoff strategy","        case .invalidRequest(let message):","            print(\"Invalid request: \\(message)\")","        default:","            \/\/ Handle other errors","        }","    }","}"],"type":"codeListing"},{"content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingRequest"},{"text":", ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingResponse"}]}],"style":"note","name":"See Also","type":"aside"}],"kind":"content"}],"topicSections":[{"anchor":"Instance-Methods","title":"Instance Methods","identifiers":["doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingsEndpoint\/create(_:)"],"generated":true}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/openaikit\/embeddingsendpoint"]}],"sections":[],"relationshipsSections":[{"title":"Conforms To","identifiers":["doc:\/\/OpenAIKit\/s8SendableP"],"kind":"relationships","type":"conformsTo"}],"metadata":{"symbolKind":"class","externalID":"s:9OpenAIKit18EmbeddingsEndpointC","navigatorTitle":[{"kind":"identifier","text":"EmbeddingsEndpoint"}],"role":"symbol","title":"EmbeddingsEndpoint","roleHeading":"Class","modules":[{"name":"OpenAIKit"}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"text":"EmbeddingsEndpoint","kind":"identifier"}]},"references":{"doc://OpenAIKit/documentation/OpenAIKit/EmbeddingRequest":{"navigatorTitle":[{"text":"EmbeddingRequest","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EmbeddingRequest","kind":"identifier"}],"title":"EmbeddingRequest","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingRequest","kind":"symbol","type":"topic","role":"symbol","abstract":[{"text":"A request to create embeddings for the given input.","type":"text"}],"url":"\/documentation\/openaikit\/embeddingrequest"},"doc://OpenAIKit/documentation/OpenAIKit/EmbeddingsEndpoint/create(_:)":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"create"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"EmbeddingRequest","preciseIdentifier":"s:9OpenAIKit16EmbeddingRequestV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:9OpenAIKit17EmbeddingResponseV","kind":"typeIdentifier","text":"EmbeddingResponse"}],"identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingsEndpoint\/create(_:)","kind":"symbol","type":"topic","abstract":[{"text":"Creates embeddings for the given input text(s).","type":"text"}],"title":"create(_:)","role":"symbol","url":"\/documentation\/openaikit\/embeddingsendpoint\/create(_:)"},"doc://OpenAIKit/documentation/OpenAIKit":{"abstract":[{"type":"text","text":"A powerful, type-safe Swift SDK for the OpenAI API with support for all major endpoints and platforms."}],"type":"topic","role":"collection","title":"OpenAIKit","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit","kind":"symbol","url":"\/documentation\/openaikit"},"doc://OpenAIKit/documentation/OpenAIKit/EmbeddingResponse":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"EmbeddingResponse"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"EmbeddingResponse"}],"abstract":[{"text":"The response from an embedding creation request.","type":"text"}],"title":"EmbeddingResponse","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingResponse","url":"\/documentation\/openaikit\/embeddingresponse","kind":"symbol","type":"topic"},"doc://OpenAIKit/s8SendableP":{"title":"Swift.Sendable","identifier":"doc:\/\/OpenAIKit\/s8SendableP","type":"unresolvable"},"doc://OpenAIKit/documentation/OpenAIKit/EmbeddingsEndpoint":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EmbeddingsEndpoint"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"EmbeddingsEndpoint"}],"abstract":[{"text":"Provides access to OpenAI’s embeddings API for converting text into numerical vectors.","type":"text"}],"title":"EmbeddingsEndpoint","identifier":"doc:\/\/OpenAIKit\/documentation\/OpenAIKit\/EmbeddingsEndpoint","url":"\/documentation\/openaikit\/embeddingsendpoint","kind":"symbol","type":"topic"}}}